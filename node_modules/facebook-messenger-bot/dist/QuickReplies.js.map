{"version":3,"sources":["../src/QuickReplies.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAAA;;;;IAEM,Y;AACJ,0BAAc;AAAA;;AACZ,SAAK,aAAL,GAAqB,EAArB;AACD;;;;8BAEwB;AAAA,UAApB,IAAoB,QAApB,IAAoB;AAAA,UAAd,IAAc,QAAd,IAAc;AAAA,UAAR,KAAQ,QAAR,KAAQ;;AACvB,UAAI,CAAC,IAAD,IAAS,CAAC,KAAd,EAAqB;AACnB,cAAM,MAAM,iFAAN,CAAN;AACD;;AAED,WAAK,aAAL,CAAmB,IAAnB,CAAwB,EAAC,MAAM,QAAQ,YAAf,EAA6B,YAA7B,EAAoC,UAApC,EAAxB;AACA,aAAO,IAAP;AACD;;;6BAEQ;AACP,UAAM,eAAe,EAArB;AADO;AAAA;AAAA;;AAAA;AAEP,wDAAoB,KAAK,aAAzB,4GAAwC;AAAA,cAA7B,KAA6B;;AACtC,cAAM,UAAU,yBAAe,EAAC,MAAM,MAAM,IAAb,EAAmB,OAAO,MAAM,KAAhC,EAAf,CAAhB;AACA,cAAI,CAAC,MAAM,IAAX,EAAiB;AACf,kBAAM,IAAI,KAAJ,CAAU,mBAAV,CAAN;AACD;;AAED,uBAAa,IAAb,CAAkB,EAAC,gBAAD,EAAU,OAAO,gBAAI,OAAO,MAAM,IAAb,CAAJ,EAAwB,EAAxB,CAAjB,EAA8C,cAAc,MAA5D,EAAlB;AACD;AATM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAWP,aAAO,YAAP;AACD;;;wBAQY;AACX,aAAO,KAAK,aAAL,CAAmB,MAA1B;AACD;;;yBARW,K,EAAO;AACjB,UAAM,eAAe,IAAI,YAAJ,EAArB;AACA,YAAM,OAAN,CAAc;AAAA,eAAO,aAAa,GAAb,CAAiB,GAAjB,CAAP;AAAA,OAAd;AACA,aAAO,YAAP;AACD;;;;;kBAOY,Y","file":"QuickReplies.js","sourcesContent":["import {cut} from './libs/utils';\n\nclass QuickReplies {\n  constructor() {\n    this._quickReplies = [];\n  }\n\n  add({text, data, event}) {\n    if (!data && !event) {\n      throw Error('Must provide a url or data i.e. {data: null} or {url: \\'https://facebook.com\\'}');\n    }\n\n    this._quickReplies.push({text: text || 'QuickReply', event, data});\n    return this;\n  }\n\n  toJSON() {\n    const quickReplies = [];\n    for (const reply of this._quickReplies) {\n      const payload = JSON.stringify({data: reply.data, event: reply.event});\n      if (!reply.text) {\n        throw new Error('No text attribute');\n      }\n\n      quickReplies.push({payload, title: cut(String(reply.text), 20), content_type: 'text'});\n    }\n\n    return quickReplies;\n  }\n\n  static from(array) {\n    const quickreplies = new QuickReplies();\n    array.forEach(arg => quickreplies.add(arg));\n    return quickreplies;\n  }\n\n  get length() {\n    return this._quickReplies.length;\n  }\n}\n\nexport default QuickReplies;\n"]}